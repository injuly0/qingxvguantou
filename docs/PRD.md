
# MoodFlow 产品需求文档 (PRD)

## 1. 项目概述
**项目名称**: MoodFlow
**核心理念**: 结合沉浸式视觉体验与积极心理学（VIA 24项性格力量）的情绪记录工具。
**主要功能**: 用户通过沉浸式的场景卡片选择心情，通过引导式流程记录当下，并结合内在力量进行自我赋能。

## 2. 页面架构 (App Structure)

应用采用 **三段式水平页面 (3 Type Pages)** 布局，通过左右滑动或点击切换：

*   **左页 (Type Page 1)**: 个人档案/力量概览 (Profile - 待定)。
*   **中页 (Type Page 2 - Main)**: 情绪入口与记录 (Module A & C)。用户在此选择心情并完成记录流程。
*   **右页 (Type Page 3)**: 信念树与日记展示 (Module E)。展示所有过往的记忆结晶。

## 3. 核心模块划分

### 模块 A: 情绪入口 (Landing & Selection)
*   **位置**: 中页 (Main Page)。
*   **功能**: 全屏垂直滚动切换 Euphoric (摩天轮) / Stable (公路) / Depressed (深海)。点击进入输入流程。

### 模块 B: 力量核心 (Power Core)
*   **功能**: 选择 VIA 性格力量。

### 模块 C: 记录与结晶 (Input & Crystallization)
*   **流程**: 捕捉 -> 归因 -> 链接 -> 预览 -> 结晶。
*   **结晶**: 最终生成一颗水晶球注入树中。

### 模块 E: 信念树 (Belief Tree)
*   **位置**: 右页 (Right Page)。
*   **设计哲学**: "树是骨架，记忆是果实"。
    *   **排序逻辑**: **高能量记忆置顶**。水晶球被点击（充能）次数越多，挂的位置越高。
*   **水晶球视觉 (Crystal Balls)**:
    *   **形态**: 坚硬、有光晕的球体，而非平面圆环。
    *   **内容**: 球体内部映射记忆内容（若有图显示图片缩略，若无图显示情绪色星云）。
    *   **交互 (Re-injection)**:
        *   点击树上的水晶球，触发“能量重注”特效（光芒爆发）。
        *   **计数器**: 记录点击次数 (`clickCount`)，存入数据库。
        *   点击后弹出日记详情卡片。
*   **成长系统**: Lv.1 萌芽 -> Lv.2 小树 -> Lv.3 繁茂光之树。

## 4. 数据结构
*   新增 `clickCount` 字段于 `MoodEntry`，用于决定树上挂载高度。
